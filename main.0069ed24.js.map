{"version":3,"sources":["scripts/main.js"],"names":["tbody","document","querySelector","headRow","tr","children","style","userSelect","alignItems","normalize","number","slice","split","join","addEventListener","e","sorted","target","className","classList","add","sort","a","b","aValue","cellIndex","innerText","bValue","localeCompare","remove","reverse","forEach","item","append","el","parentNode","citiesChoise","select","createElement","cityName","option","textContent","form","lable","input","type","name","toLowerCase","dataset","qa","employeeOptions","body","notification","title","text","message","h2","p","setAttribute","setTimeout","button","preventDefault","formData","FormData","dataObject","Object","fromEntries","entries","length","age","position","salary","newRow","Math","abs","Number","toLocaleString","values","str","cell","push","querySelectorAll","field","value","index","initialText","width","height","focus","ev","key","blur"],"mappings":"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","file":"main.0069ed24.js","sourceRoot":"..\\src","sourcesContent":["'use strict';\n\nconst tbody = document.querySelector('tbody');\nconst headRow = document.querySelector('thead tr');\nconst tr = [...tbody.children];\n\ndocument.querySelector('body').style.userSelect = 'none';\ndocument.querySelector('body').style.alignItems = 'flex-start';\n\nconst normalize = (number) => {\n  return +number.slice(1).split(',').join('');\n};\n\nheadRow.addEventListener('click', e => {\n  let sorted = [];\n\n  if (e.target.className === '') {\n    e.target.classList.add('DESC');\n\n    sorted = tr.sort((a, b) => {\n      const aValue = a.children[e.target.cellIndex].innerText;\n      const bValue = b.children[e.target.cellIndex].innerText;\n\n      switch (e.target.cellIndex) {\n        case 0:\n        case 1:\n        case 2:\n          return aValue.localeCompare(bValue);\n        case 3:\n          return aValue - bValue;\n        case 4:\n          return normalize(aValue) - normalize(bValue);\n      }\n    });\n  } else {\n    e.target.classList.remove('DESC');\n\n    sorted = tr.reverse();\n  }\n\n  sorted.forEach(item => tbody.append(item));\n});\n\ntbody.addEventListener('click', e => {\n  [...tbody.children].forEach(el => el.classList.remove('active'));\n  e.target.parentNode.classList.add('active');\n});\n\nconst citiesChoise = function() {\n  const select = document.createElement('select');\n  const options = [`Tokyo`, `Singapore`, `London`,\n    `New York`, `Edinburgh`, `San Francisco`];\n\n  options.forEach(cityName => {\n    const option = document.createElement('option');\n\n    option.textContent = cityName;\n    select.append(option);\n  });\n\n  return select;\n};\n\nconst form = document.createElement('form');\n\nform.classList.add('new-employee-form');\n\n[...headRow.children].forEach(el => {\n  const lable = document.createElement('label');\n\n  lable.textContent = el.textContent;\n\n  if (lable.textContent !== 'Office') {\n    const input = document.createElement('input');\n\n    if (lable.textContent === 'Age' || lable.textContent === 'Salary') {\n      input.type = 'number';\n    }\n\n    input.name = lable.textContent.toLowerCase();\n    input.dataset.qa = lable.textContent.toLowerCase();\n\n    lable.append(input);\n  } else {\n    const employeeOptions = citiesChoise();\n\n    employeeOptions.name = lable.textContent.toLowerCase();\n    employeeOptions.dataset.qa = lable.textContent.toLowerCase();\n\n    lable.append(employeeOptions);\n  }\n\n  form.append(lable);\n});\n\ndocument.body.append(form);\n\nconst notification = (type, title, text) => {\n  const message = document.createElement('div');\n  const h2 = document.createElement('h2');\n  const p = document.createElement('p');\n\n  message.append(h2, p);\n\n  message.classList.add('notification', type);\n  message.setAttribute('data-qa', 'notification');\n\n  h2.classList.add('title');\n  h2.innerText = title;\n\n  p.innerText = text;\n\n  document.querySelector('body').append(message);\n\n  setTimeout(() => {\n    message.remove();\n  }, 2000);\n};\n\nconst button = document.createElement('button');\n\nbutton.addEventListener('click', e => {\n  e.preventDefault();\n\n  const formData = new FormData(form);\n  const dataObject = Object.fromEntries(formData.entries());\n\n  if (dataObject.name.length < 4) {\n    notification('error', 'Error', 'Name should have more than 4 letters.');\n  } else if (+dataObject.age < 18 || +dataObject.age > 90) {\n    notification('error', 'Error',\n      'Age should be more than 18 and less than 90');\n  } else if (!dataObject.position || !dataObject.salary) {\n    notification('error', 'Error', 'Enter all required information.');\n  } else {\n    notification('success', 'Succes', 'Information successfully added.');\n\n    const newRow = document.createElement('tr');\n\n    dataObject.salary\n      = `$${Math.abs(Number(dataObject.salary)).toLocaleString('en-US')}`;\n\n    Object.values(dataObject).forEach(str => {\n      const cell = document.createElement('td');\n\n      cell.textContent = str;\n\n      newRow.append(cell);\n    });\n\n    tbody.append(newRow);\n\n    tr.push(newRow);\n\n    form.querySelectorAll('input').forEach(field => {\n      field.value = '';\n    });\n  }\n});\n\nbutton.textContent = 'Save to table';\n\nform.append(button);\n\ntbody.addEventListener('dblclick', e => {\n  const index = e.target.cellIndex;\n  const initialText = e.target.textContent;\n  let input = document.createElement('input');\n\n  input.style.width = '118px';\n\n  input.classList.add('cell-input');\n\n  e.target.textContent = '';\n\n  switch (index) {\n    case 2:\n      input = citiesChoise();\n\n      input.style.width = '100px';\n      input.style.height = '18px';\n      break;\n\n    case 3:\n      input.style.width = '30px';\n      input.type = 'number';\n      break;\n\n    case 4:\n      input.style.width = '66px';\n      input.type = 'number';\n      break;\n  }\n\n  e.target.append(input);\n  input.focus();\n\n  input.addEventListener('blur', () => {\n    switch (index) {\n      case 0:\n        if (input.value.length < 4) {\n          notification('error', 'Error',\n            'Name should have more than 4 letters.');\n          e.target.textContent = initialText;\n        } else {\n          e.target.textContent = input.value;\n        }\n        break;\n\n      case 1:\n        if (input.value) {\n          e.target.textContent = input.value;\n        } else {\n          notification('error', 'Error', 'You should enter correct data.');\n          e.target.textContent = initialText;\n        }\n        break;\n\n      case 2:\n        if (input.value) {\n          e.target.textContent = input.value;\n        } else {\n          e.target.textContent = initialText;\n        }\n        break;\n\n      case 3:\n        if (input.value < 18 || input.value > 90) {\n          notification('error', 'Error',\n            'Age should be more than 18 and less than 90');\n          e.target.textContent = initialText;\n        } else {\n          e.target.textContent = input.value;\n        }\n        break;\n\n      case 4:\n        if (input.value) {\n          e.target.textContent\n            = `$${Math.abs(Number(input.value)).toLocaleString('en-US')}`;\n        } else {\n          notification('error', 'Error', 'You should enter correct data.');\n          e.target.textContent = initialText;\n        }\n        break;\n    }\n\n    input.remove();\n  });\n\n  input.addEventListener('keydown', (ev) => {\n    if (ev.key === 'Enter') {\n      input.blur();\n    }\n  });\n});\n"]}